<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <meta charset="UTF-8">

</head>

<body>

<section id="lessons"
         class="tab-panel"
         th:fragment="lessons(lessons, tienDo, unlockedLessonIds)">

  <h2>Lessons</h2>

  <div class="lesson-list">
    <div class="lesson-item-wrapper"
         th:each="l : ${lessons}">

      <!-- BÀI ĐƯỢC MỞ -->
      <a class="lesson-item"
         th:if="${unlockedLessonIds.contains(l.idBaiHoc)}"
         th:classappend="
         ${tienDo != null and tienDo.baiHocDaHoanThanhIds.contains(l.idBaiHoc)} ? 'done' :
         (${tienDo != null and tienDo.baiHocHienTai != null
            and tienDo.baiHocHienTai.idBaiHoc == l.idBaiHoc}
            ? 'current' : '')
     "
         th:href="@{'/lesson/' + ${l.idBaiHoc} + '#lesson'}">

        <div class="lesson-left">
          <div class="lesson-type" th:text="${l.thuTu}"></div>
          <div>
            <div class="lesson-title" th:text="${l.tieuDeBaiHoc}"></div>
            <div class="lesson-desc" th:text="${l.moTaBaiHoc}"></div>
          </div>
        </div>

        <div class="lesson-right">
          <img class="lesson-icon" th:if="${l.loai == 1}" th:src="@{/images/theory.png}">
          <img class="lesson-icon" th:if="${l.loai == 2}" th:src="@{/images/quiz.png}">
          <img class="lesson-icon" th:if="${l.loai == 3}" th:src="@{/images/video.png}">
          <img class="lesson-icon" th:if="${l.loai == 4}" th:src="@{/images/code.png}">
        </div>
      </a>

      <!-- BÀI BỊ KHÓA -->
      <div class="lesson-item locked"
           th:if="${!unlockedLessonIds.contains(l.idBaiHoc)}">

        <div class="lesson-left">
          <div class="lesson-type" th:text="${l.thuTu}"></div>
          <div>
            <div class="lesson-title" th:text="${l.tieuDeBaiHoc}"></div>
            <div class="lesson-desc" th:text="${l.moTaBaiHoc}"></div>
          </div>
        </div>

        <div class="lesson-right">
          <i class="fa fa-lock"></i>
        </div>
      </div>
    </div>
  </div>
</section>
</body>
</html>
